![](images/18834b59454d5d255143dcab52985f647024ee776913d80e219c29a4722669e0.jpg)  
Fig.Pa EgfollwsrendTltheaetefsll $3 ^ { \mathrm { r d } }$ degre.In (a)and (c),theCostarts fromitsinitial $_ x$ -coordinate $x _ { \mathrm { { C o } } }$ with a velocity of $v _ { \mathrm { { C o } } }$ After a time of $t _ { v \textrm { C o } }$ ,it decelerates with $a _ { \mathrm { { C o } } }$ for $t _ { a \mathrm { ~ C o ~ } }$ The Ego’s initial velocity $v _ { \mathrm { E g o } }$ is variedinallscenarios.Moredetailsabout thevariationaregiveninSectionIV-AAsaresultoftheexecution,evaluation metrics are calculated: the Ego's minimum deceleration $a _ { \mathrm { m i n } }$ ,the Ego's maximum lateral position $p _ { \mathrm { l a t ~ m a x } }$ ,and the vehicles’minimum distance $d _ { \mathrm { m i n } }$ ，

![](images/9c9d83863e72a563a5ef1389f9fad91ce239a22366281af9f40d85100b2fb9ab.jpg)  
Fig3Vectodeatfoadattt puple as the ones in $\boxed { \mathrm { F i g . ~ } 2 }$ Toaccount for interactionsbetween the Ego and $\mathrm { C o ( s ) }$ trajectories of $\mathrm { C o ( s ) }$ may also result from execution (seeSection V

sensor noise).Considering scenarios’elements $\pmb { \mathbb { Z } } 1 ]$ ，such a translation works for environmental conditions,which parameters can characterize.Digital information is specific to the AV under test and will mostly not change.However, the road network and traffic guidance objects (layer 1 (L1)), roadside structures (L2), temporary modifications of L1 and L2 (L3),and dynamic objects (L4) cannot be described well byparameters.Hence, translating between concrete scenarios’ representations might not be possble for changes in L1 to L4.

3）Transfer Across Functional Scenarios: A change of the functional scenario mostly leads to changes in L1 to L4 and evaluation metrics.Therefore,a transfer of data can not be handed by the discussed search-based techniques.

# III.INTEGRATING SCENARIO-BASED TESTING AND MOTIONPREDICTION

This section illustrates the previously described problems with an example and presents an approach to solving them. Considering the three functional scenarios in $\mathrm { F i g . } \ 2 | \ $ itis desirable that data from the scenarios adaptive cruise control (ACC） and lane keeping (LK） allow to predict the scenario ACC&LK's outcomes.However, the different logical scenarios and evaluation metrics stand against such a transfer. To enable the transfer of data across different functional (and hence logical) scenarios,metamodels must get more information than just concrete scenarios and evaluation metrics.To implement this,we propose scenario embeddings.

# A. From Concrete Scenarios to Scenario Embeddings

An embedding can be defined as“a relatively lowdimensional space into which you can translate highdimensional vectors” $\lVert 2 2 \rVert$ .Since the instantiated scenario cannot be described by structured data，we create scenario embeddings holding information added during the transition from concrete to instantiated scenarios.Thereby, scenario embeddings can be created without (costly） scenario execution.

A scenario embedding can have various representations. To coverchanges in L1 to L4,rendered or vectorized representations from motion prediction are particularly suitable $\underline { { \| 2 3 \| } }$ (see upper part ofFig. 3. In $\textcircled { 6 } \textcircled { - } \textcircled { 8 }$ ，such representations are used to generate synthetic scenarios based on real scenarios. However,the behavior of an Ego and the resulting criticality are not considered.Our approach is thus complementary, enabling predictive analyses for synthetic scenarios as well.

Since vectorized representations are characterized bya high level of detail and computational efficiency $\bigstar$ ，we choose a vectorized scenario description for our scenario embeddings.

# B.From Evaluation Metrics to Trajectories

Toallow for the transfer of dataacrossdifferent evaluation metrics,scenarios’outcomes must be captured in a uniform representation independent of the utilized evaluation metrics. To assess the criticality of scenarios,most evaluation metrics are calculated based on the trajectories of the Ego and other objects. Since the static and dynamic environment of the Ego is already modeled in the scenario embedding,we consider the Ego's trajectory the product of the execution (see lower part ofFig. 3p, allowing for the calculation of evaluation metrics.

# C.Motion Prediction for Scenario-Based Testing

Fig. 1 shows that predictive analyses require trajectories to bepredicted based on scenario embeddings.A model suitable