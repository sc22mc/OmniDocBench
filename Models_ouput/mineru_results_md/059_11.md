Saizheng Zhang,Emily Dinan, Jack Urbanek,Arthur Szlam,Douwe Kiela,and Jason Weston.2018.Personalizing dialogue agents: I have a dog, do you havepetstoo? In Proceedings of the56th Annual Meeting ofthe Association for Computational Linguistics(Volume 1:Long Papers),pages 2204- 2213,Melbourne,Australia.Association for ComputationalLinguistics.

Yizhe Zhang,Siqi Sun,Michel Galley, Yen-Chun Chen, Chris Brockett,Xiang Gao, Jianfeng Gao, Jingjing Liu,and Bill Dolan.2020. DIALOGPT :Largescale generative pre-training for conversational response generation. In Proceedings of the 58th Annual Meeting of the Association for Computational Linguistics:System Demonstrations, pages 270- 278,Online.Association for Computational Linguistics.

Peixiang Zhong, Chen Zhang,Hao Wang,Yong Liu, and Chunyan Miao.2020. Towardspersona-based empathetic conversational models. In Proceedings of the 2020 Conference on Empirical Methods in Natural Language Processing (EMNLP), pages 6556-6566, Online.Association for Computational Linguistics.

Xiangyang Zhou,Daxiang Dong,Hua Wu, Shiqi Zhao, Dianhai Yu,Hao Tian,XuanLiu,andRui Yan.2016. Multi-view response selection for human-computer conversation. In Proceedings of the 2016 Conference on Empirical Methods in Natural Language Processing，pages 372-381,Austin,Texas.Association for Computational Linguistics.

Yutao Zhu,Jian-Yun Nie,Kun Zhou,Pan Du,and Zhicheng Dou. 2021. Content selection network for document-grounded retrieval-based chatbots. In Advances in Information Retrieval: 43rd European Conferenceon IR Research,ECIR,page 755-769, Berlin, Heidelberg.Springer-Verlag.

1984 to the plan of hiking and picnic.When the user discusses preparing sandwiches and lemonade with the agent, "I can make sandwiches forus! $I$ also have a very good recipe for homemade lemonade!Do you like lemonade?",HAHT can remember information mentioned in the history conversations,such as the user likes reading and outdoor activities and it has adopted a book-lover persona before.HAHT can leverage these historical contexts and generate more human-like, context-relevant, and history-aware responses: “I love lemonade! I'm sure we can find a lot of good recipes for sandwiches too. Sandwiches and lemonade are perfect forgoing outdoors and reading books.".

# AAppendix

# A.1 Complete Case Study

Table 7 shows the complete content of the case study in section 5.5. The conversations were conducted by two crowd workers. For training purposes,the utterances from the first crowd worker are denoted asuserutterances,whereas those from the second crowd worker are denoted as agent utterances.An MSC model aims to generate responses that are asclose aspossible to the second crowd worker'sutterances.

In history session 1,the user and the agent briefly talk about themselves,such as,their hobbies,and the job of their parents.In history session 2, they talk about the book that they are reading and some memories about reading books.In the current conversation,their discussions vary from the book