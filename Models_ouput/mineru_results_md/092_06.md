highest possible accuracy but rather to design the most portable, practical,and inexpensive setup to execute self-powered EIS on the field. If a higher accuracy was ever to be required, printable reference electrodes [37] can easily be added to the sensor,without any additional energy expenditure.The two EIS terminals consist oftwo electrodes,which are also used for collecting the energy required to execute the EIS measurements. Our novel approach ensures thatthe PMFC acts both as an energy source and a biosensor for our application: in the first case, the PMFC electrodesare connected to the dc/dc,in the second to theEISAFE.

2）Service Circuitry:We can distinguish two different sections of the SC: OCV sampling and the IPSP.The OCV sampling circuit isa high-impedance resistive divider that samples $50 \%$ of the steady-state (i.e.,after cell rest) OCV into the dc/dc's MPP reference voltage capacitor. The resistive divider is briefly connected to the circuit thanks to the wakeup signal,and then it is unconnected through two switches.The IPSP acts as the interface between the PMFC and the sensor node and has a twofold purpose.First, it turns the power flow on/off from the PMFC to the dc/dc input,to either harvest energy from the cell or to unload it to ensure cell recovery. Second,the IPSP also controls whether the PMFC is being used asa power source (i.e.,PMFC connected to the DC/DC),orif itis beingused as EIS biosensor (i.e.,PMFC connected to the EIS AFE).

During wakeup, the power supplies of the IPSP and OCV sampling control and synchronize their activity.Fig.2 shows the time development of the supply voltages of the IPSP, the sampling,and the storage capacitor during an entire application cycle.The OCV sampling section is powered only at the start of the wakeup period.On the other hand, the IPSP is activated only once OCV has been successfully sampled so as not to disrupt its measurement by loading the PMFC before time. To grant the synchronization between these two phases,the wakeup harvestingcircuitry charges two separate capacitors,one responsible for OCV sampling $( \boldsymbol { C } _ { \mathrm { S M P } } )$ and one for the IPSP's supply $( C _ { \mathrm { W K } } )$ $C _ { \mathrm { S M P } }$ must activate and deactivate OCV sampling strictly before $C _ { \mathrm { W K } }$ activates IPSP, so that sampling ends before harvesting begins [see Fig.2(A)]. This can be done by properly sizing $C _ { S \mathrm { M P } }$ and $C _ { \mathrm { W K } }$ ,with $C _ { \mathrm { W K } } > C _ { \mathrm { S M P } }$ .The IPSPalso taps into the storage capacitor when $C _ { \mathrm { W K } }$ is depleted to sustain harvesting beyond the wakeup period.In particular,to ensure correct supply handoff, $C _ { \mathrm { W K } }$ must be able to hold the IPSP's supply above itsoperative voltage $\left( 1 . 6 5 \mathrm { ~ V } \right)$ as the storage capacitor charges above its load-enable threshold, $V _ { \mathrm { M I N } } = 2 \mathrm { \Delta V }$ [see Fig.2(B)]. If the PMFC cannot charge the storage capacitor above $V _ { \mathrm { M N } }$ in time,harvesting cannot continue as the IPSP is unpowered. The cellis deemed inactive,and a new wakeup tentative willbe done at the next wakeup message reception.

Below $V _ { \mathrm { M I N } }$ ,the storage loads are detached througha digital signal generated by the BQ25505,the $V _ { \mathrm { B A T , O K } }$ signal, to reduce the minimum power required for cold start (see Section IV-B). Right after wakeup,when the storage crosses $V _ { \mathrm { M N } }$ ，VBAT.OK activates the loads on $V _ { \mathrm { C A P } }$ (MCU,voltage monitors). TheMCU bootsup in ultralow power mode LPM 4.5,waiting for an interrupt.When $V _ { \mathrm { S T O R } }$ charges up to $V _ { \mathrm { E I S } }$ ,a voltage monitor interrupts the MCU,which then launches an EIS measurement cycleby toggling theMsignal,which powers theEISAFE and controls the IPSP to connect the electrodes to the AFE.Once the measurement is finished,EIS circuitry is power-gated,and the MCU enters LPM 4.5 again, waiting until $V _ { \mathrm { T X } }$ is reached. At that point,transmission is issued by powering theLoRa modem through the S signal.After the transmission,the MCU remains active until the storage element drops below $V _ { \mathrm { M I N } } { - } 5 ~ \mathrm { m V } .$ The BQ25505's internal PFET disconnects the storage element from the sensor node supply line at that voltage.This interrupts the power supply to the IPSP and all components，sending the node into rest mode until a new wakeup signal is received. To save precious leftover storage energy during cell rest, the BQ25505 is held in a reset state,only consuming $5 \ \mathrm { \ n A }$ If rest lasts a long time and the storage is discharged below the cold-start voltage （ $V _ { C S } = 1 . 8 \mathrm { ~ V ~ }$ ,wewill incur in cold start of the DC/DC converter upon wakeup.Power distribution and component power-gating are done through SPST(Vishay Siliconix,SiP32431DN) and SPDT(Vishay Siliconix,DG4157E) switches.

# IV.EXPERIMENTALRESULTS

The initial test phase concerned PMFC reactor characterization: first,we focused on their construction,startup,and operation,and then we assessed their performance in cold-starting storage capacitors through the BQ25505.After that, we moved onto analyzing the time development of the impedance spectra of active and inactive PMFCs:with this experiment,we confrm that the impedance spectrum of a PMFC varies significantly both from day to day and from active and inactive plants. These significant changes in EIS results can be tracked to more than just common MFC parameters,such as biofilm formation, butalso to plant health and status.We executed this first set ofEIS measurements with a reference potentiostat (Autolab PGSTAT302 N） for three consecutive days.These first EIS measurementsalso allowed usto setup the MAX30134's measurement range forPMFCs.We then validated theMAX30134's capabilities in measuringa PMFC's impedance spectrum by comparing its measurements to the reference potentiostat and in terms of low-power energy consumption by measuring its energy consumption during a prototype EIS sweep.As a last step,we estimated the energy consumption of the atomic tasks of the application scenario we considered: message transmission and EIS measurement. This allowed us to dimension the energy storage element required for this test case and confirm the feasibility of a simple monitoring application based on this node.

# A. Reactor Startup and Operation

Asapreliminary study,we built an MFC and confirmed through experiments that the cell's durability and power production capabilities are comparable to the expected results in the literature [38].We analyzed the PMFC's performance by addingtheplant toacellof the samevolume.Weverified that drawing current from the cell during startup or adding water to it delayed cell stabilization,as the bacteria colony still had to get acclimatized. This led us to start new cells up by waterlogging themand leaving them unloaded until OCV stabilized above