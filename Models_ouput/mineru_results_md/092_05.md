![](images/4499022f17bdcd62d7fb6ce707916b8f03750a936f4602fa5553084af9bf7af8.jpg)  
Fig.3.Sensor node block diagram.Passve wakeup is achieved by harvesting from the wakeup signal.First, $V _ { \mathrm { S M P } }$ triggers an OCV measurement (a),then $V _ { \mathrm { W K } }$ powers the IPSP (b),allowing energy to flow into the supercap.This continues until $V _ { \mathrm { C A P } }$ can power the IPSP on its own (that is,above its load-detach voltage of $2 \mathrm { V } ,$ Abovthisthtaee tevol rest.

Section I, rest periods also ensure that a correct steady-state OCV measurement can be executed,allowing us to set a more accurate MPP(see Section IV-B).

To the best of our knowledge,no estimation of the optimal resting period of a PMFC is currently available.For this reason, we do not assume its maximum duration when designing the sensor node architecture.If we rely on sensor node components to generate the wakeup signal,there is an upperlimit on rest time. If the PMFC were to require long resting periods,the storage could become fully discharged while powering the components required for wakeup signal generation (e.g.，timers,voltage monitors)，preventing the node from ever waking up again. Because of this reason,we bring the node out of rest state through an external wakeup signal,which we also harvest in a passive wakeup approach.The energy harvested from this external signal is used to bootstrap the input power and sensing path (IPSP— Section III-C2), which is the section of the sensor node allowing power to flow from the PMFC to the harvesting circuitry [35]. In this way, the sensor node can still successfully wakeup even if its storage becomes fully depleted. This technique ensures no upper bound on rest time,although it requires the external infrastructure to generate the wakeup signal. Depending on the application,we can rely on self-powered IR sensors,PV panels, or passive wakeup radios for passve wakeup [36]. If optimal rest times are short enough and compatible with an onboard wakeup generation,passive wakeup could act as a fail-safe to revive nodes discharged during rest.

# C.Sensor Node Block Diagram and Application Cycle

We designed the proposed sensor node architecture shown in Fig.3 by choosing cost-effective components needed to execute and transmit PMFC-powered，ultralow power EIS measurementsand by buildinga service circuitry (SC) around them.The

SC adapts the chosen components to the requirements of optimal PMFCuse.First, we willdiscuss our choice of components, then we will analyze the role of the SC in the architecture.

1） Core Components Selection: Due to the low voltage,low power limitations of PMFCs $\textcircled{1}$ ,the sensor node requires an energyconversion stage which boosts the PMFC's output voltage and buffers its energy into a supercapacitor fora duty-cycled operation of the sensor node.We selected the BQ25505 IC by Texas Instruments for this purpose.1 Besides featuring ultralow quiescent current ( $3 2 5 \mathrm { n A }$ andan efficient shipmode draining only $5 \ \mathrm { n A }$ ,thisIC providesa VBATok signal useful to detach loads during cold-start (see Section IV-B).

The sensor node features two key components besides the dcdc converter: the AFE providing EIS functionality and the radio transceiver needed to transmit measurement results to a base station.We selected theMAX30134EIS AFEand Semtech's SX1276 LoRa radio for their ultralow power consumption. While the latter is a staple in low-power, long-range communication,the MAX30134 still needsto be tested on PMFCs. The MAX30134 is a four-channel AFE providing biasing and full measurement path,ADC included,to be used on two or three terminal electrochemical sensors.This IC can execute voltage and temperature monitoring，dc measurements,and typical electrochemical measurements such as EISand cyclic voltammetry.Finally, two factory-trimmed voltage monitors (Analog Devices,ADM8612) provide the signals triggering the measurement and transmission tasks at the appropriate storage voltages (see Section IV-E).

For the first bench demonstrator,we opted for two-terminal EIS measurements,as this work's goal is not to obtain the