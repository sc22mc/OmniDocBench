HARKIN et al.: FIELD-TO-FIELD COORDINATE-BASED SEGMENTATION ALGORITHM

contributions of this study to field segmentation using coordinate-based methods.

There are a limited number of examples in the literaturewhere field segmentation is performed using machinery coordinate data. This is despite the fact that GPS is a proven, robust, and readily available technology. The review highlights how existing vehicular trajectory segmentation methods do not translate well to the field segmentation problem. Common trajectory segmen- tation policies either require a priori knowledge of machinery operator behavior and their driving patterns; geo-markers from third party sources; or rely on using established road networks. These concepts and methods do not crossover to an agricultural setting. To the best of the authorsâ€™ knowledge, challenging conjoined field segmentation cases have not been addressed in the current literature. A cost-effective coordinate-based solution to automatically segment agricultural fields is required.

III. MATERIALS AND METHOD

A coordinate-based method is presented to overcome the challenges highlighted in Section II. First, the data acquisition from two harvesting implements is outlined in Section III-A. Then, the proposed algorithmis presented in two stages. In Stage I, measurements are preprocessed to determine whether PTO activation has occurred and if road travel has taken place between activation periods, as described in Section III-B. In Stage II, pathways that may be present between adjacent fields in the sampled image are removed by applying a series of morpholog- ical image operations. The algorithm then detects the individual field boundaries from the processed image. Finally, the field boundaries are converted back to Cartesian and the machinery coordinate data are labeled as belonging to a particular field,with details given in Section III-C. The method is fully automated, deterministic, and segments all fields in a job site in one pass.

A. Data Capture

Georeferenced time series implement data were collected on two implements; a 2013, 540 r/min, McHale Fusion 3 Plus baler-wrapper [51] and McHale Proglide R3100 mower [52]. A custom electronic control unit (ECU) was programmed to relay data from the implements across a J1939/CAN network [53] to a Deutz-Fahr Agrotron 6180 [54] and a John Deere 6150R [55]. The machinery was owned and operated by a machinery con- tractor based in Galway, Ireland, as detailed in [56]. For machin- ery coordinates, a NEO-M8 GNSS positioning receiver with a wideband GNSS antenna was fitted to the implements [57]. The acquisition frequency of the GNSS is 1 Hz. PTO speed was measured using an NPN digital hall-effect sensor [50] installed on the implement drivetrain sprocket with a protruding notch. Pulse counts were translated to frequency, which are represented as the PTO rotations perminute (rpm). Fuel usagemeasurements were obtained from the tractor J1939 interface. The data were stored locally in a document-based database operating on an 8th generation Intel Nuc (Intel i3 processor and 4 GB of RAM) running Ubuntu 16.

TABLE I

RESULT FROM STAGE I ON THE BALER TRAJECTORY DATA SHOWING THE NUMBER OF SINGLE AND CONJOINED FIELD SITES IN THE BALER DATASET

\begin{tabular}{|c|c|} \hline \textbf{Fields per Site} & \textbf{Site Count} \\ \hline 1 & 134 \\ \hline 2 & 19 \\ \hline 3 & 2 \\ \hline 4 & 0 \\ \hline \hline \textbf{Total} & \textbf{155} \\ \hline \end{tabular}

TABLE II

RESULT FROM STAGE I ON THE MOWER TRAJECTORY DATA SHOWING THE NUMBER OF SINGLE AND CONJOINED FIELD SITES IN THE MOWER DATASET

\begin{tabular}{|c|c|} \hline \textbf{Fields per Site} & \textbf{Site Count} \\ \hline 1 & 162 \\ \hline 2 & 9 \\ \hline 3 & 0 \\ \hline 4 & 1 \\ \hline \hline \textbf{Total} & \textbf{172} \\ \hline \end{tabular}

B. Stage I: Data Preproccessing

In preprocessing, unique job sites are determined from the measurement campaign by coarse filtering the raw machinery trajectory data. At this stage in the process, it is acceptable to label several fields from a single work episode as belonging to one site.

A site is determined by the filtering rules listed below. 1) Periods where the PTO remains active (>= 400 r/min). a) In scenarios where normal machinery operation is interrupted and the operator must stop the PTO, the data are segmented if the Euclidean distance from the PTO stop location is greater than 40 m to the PTO restart location. (In the recorded datasets, operators may stop and restart the PTO during harvesting op- erations in a field. The most common example is to deal with blockages. This may not be representative of all implements).

2) Machinery operation continues without stoppages (>= 120 min) between operations.

3) Machinery speeds do not exceed 8 m/s during in-field op- eration. (In the recorded datasets, operators do not exceed this speed during harvesting operations in a field, only on the road between job sites. This may not be representative of all implements).

The results of the filtered trajectories based on the policies listed above are shown in Tables I and II.

C. Stage II: Path Removal

Once the raw machinery trajectory data have been filtered into job sites, the algorithm moves to Stage II, Path Removal. Fig. 3 describes the procedure; the process is divided into six steps. Each step is labeled alphabetically and will be referred to throughout this section. The goal of this stage is to remove pathways between fields and isolate field geometric boundaries

95