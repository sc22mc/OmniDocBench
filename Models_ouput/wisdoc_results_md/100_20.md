Published as a conference paper at ICLR 2024

Table 6: Reasoning steps generated by gpt-3.5-turbo when experience is included in the input prompt. This experience is the analysis on the reasoning chain of Table 5. With this experience in the prompt, we present five responses from the model and the final reasoning chain after finishing the second iteration of BoT.

Prompt of Game of 24 with experience

First of all, Recall historical reasoning experience: ######## The 1-th Reasoning Chain with Comments ########

Below is a reasoning chain containing reasoning steps presented in order: ———————————–

Step 1, Current set: 1 1 4 6, Selected two numbers: 1 1, Operation: +, Computed new number: 2, Remaining numbers: 4 6, New set: 2 4 6.. Evaluate Score: 0.7 Step 2, Current set: 1 1 4 6, Selected two numbers: 1 4, Operation: *, Computed new number: 4, Remaining numbers: 1 6, New set: 4 1 6.. Evaluate Score: 0.7 Step 1, Current set: 1 1 4 6, Selected two numbers: 1 1, Operation: *, Computed new number: 1, Remaining numbers: 4 6, New set: 1 4 6. Evaluate Score: 0.7 ———————————–

Analysis Report: This reasoning chain cannot complete the task and reach the target correctly. The reasoning steps have errors that prevent the correct solution. Reasoning Step 1: This step is a logical inference of the previous step since it follows the rule of selecting two numbers, performing an operation, and updating the set accordingly. However, the reasoning step is not beneficial to the correct solution. The computed new number of 2 does not lead to the desired result of 24. Advice: Try different operations or combinations of numbers to obtain a new number that is closer to 24.

Recommendation or Reject description: Reject.

Reasoning Step 2: There is an error in the reasoning step description. It is mentioned twice as ”Reasoning Step 2”. However, assuming it is a unique step, it is a logical inference of the previous step. The operation of multiplication (*) is applied correctly to the selected numbers, and the new number of 4 is obtained. The remaining numbers are updated accordingly.

Recommendation or Reject description: Recommend.

Reasoning Step 3: There is an error in the reasoning step description. It is mentioned as ”Reasoning Step 1” instead of ”Reasoning Step 3”. This step is not a logical inference of the previous step. The operation of multiplication (*) is applied to the same numbers as in Reasoning Step 1, but the computed new number of 1 is different. The remaining numbers are updated accordingly.

Error Report: The computation in this step is incorrect. The correct computation should be 1 * 1 = 1.

Advice: Double-check the computation and make sure it is accurate.

Recommendation or Reject description: Reject.

Confidence score: 0.7

Five responses from the gpt-3.5-turbo

\begin{tabular}{l} \multicolumn{1}{c}{\bfseries Five responses from the fdt-5.5u-nlu} \\ Step 1, Current set: 1 1 14 6, Selected two numbers: 1:4, Operation: * Compute new number: 4, Remaining numbers: 1, 6, New set: 1 4 6,. \\ Step 1, Current set: 1 1 4 6, Selected two numbers: 1:6, Operation: +, Compute new number: 7, Remaining numbers: 1, 4, New set: 1 4 7,. \\ Step 1, Current set: 1 1 4 6, Selected two numbers: 1:1, Operation: * Compute new number: 1, Remaining numbers: 4, New set: 1 4 6,. \\ Step 1, Current set: 1 1 4 6, Selected two numbers: 1:4, Operation: +, Compute new number: 3,25, Remaining numbers: 1, 6, New set: 0.25 1 6,. \\ Step 1, Current set: 1 1 4 6, Selected two numbers: 1:1, Operation: -, Compute new number: 3, Remaining numbers: 4, New set: 6, New set: 0 4 6,. \\ \multicolumn{1}{c}{\bfseries Obtained chaining chain after aggregation} \\ Step 1, Current set: 1 1 4 6, Selected two numbers: 1:1, Operation: * Compute new number: 1, Remaining numbers: 4, New set: 1 4 6, Evaluate Score: 0.9 \\ Step 7, Current set: 1 1 4 6, Selected two numbers: 1:4, Operation: * Compute new number: 4, Remaining numbers: 6, New set: 4 6, Evaluate Score: 1 7 \\ Step 3, Current set: 1 4 6, Selected two numbers: 4, 6, Operation: * Compute new number: 1, Remaining numbers: 1, New set: 24, Evaluate Score: 0.9 \\ \end{tabular}

Table 7: An example of how BoT generates the next possible thought for the reasoning step zi

Prompt for the next thought generation

In the game of 24, you are given four numbers, and the goal is to use basic arithmetic operations (+, -, *, /) to combine these numbers and obtain a result of 24. You can only use each number once, and parentheses can be used to change the order of operations.

Analysis format of each step: Step , Current set: , Selected two numbers: , Operation: , Computed new number: , Remaining numbers: , New set: .

The given four numbers are: 3 5 6 8.

Let’s think step by step.

First of all, Recall historical reasoning experience: ######## The 1-th Reasoning Chain with Comments ########

Below is a reasoning chain containing reasoning steps presented in order: ———————————–

Step 1, Current set: 3 5 6 8, Selected two numbers: 5 6, Operation: *, Computed new number: 30, Remaining numbers: 3 8, New set: 30 3 8.. Evaluate Score: 0.9 Step 2, Current set: 30 3 8, Selected two numbers: 30 3, Operation: /, Computed new number: 10, Remaining numbers: 8, New set: 10 8.. Evaluate Score: 0.9 Step 3, Current set: 10 8, Selected two numbers: 10 8, Operation: *, Computed new number: 80, Remaining numbers: None, New set: 80.. Evaluate Score: 0.9. ———————————–

Analysis Report: This reasoning chain can complete the task and reach the target correctly by executing its reasoning steps. The final result obtained in Step 3 is 80, which is mathematically equal to 24.

Reasoning Step 1: This reasoning step is a logical inference of the previous step. The numbers 5 and 6 are selected from the current set (3 5 6 8) and multiplied together to obtain the new number 30. The remaining numbers are 3 and 8. This reasoning step is beneficial to the correct solution as it reduces the number of elements in the set and generates a new number.

Reasoning Step 2: This reasoning step is a logical inference of the previous step. The numbers 30 and 3 are selected from the current set (30 3 8) and divided to obtain the new number 10. The remaining number is 8. This reasoning step is beneficial to the correct solution as it further reduces the number of elements in the set and generates a new number.

Reasoning Step 3: This reasoning step is a logical inference of the previous step. The numbers 10 and 8 are selected from the current set (10 8) and multiplied together to obtain the new number 80. Since there are no remaining numbers, the result of the reasoning chain is 80. This reasoning step is beneficial to the correct solution as it generates the final result.

Advice: No errors were found in the reasoning steps.

Recommendation or Reject Description: All reasoning steps are recommended as they are correct and contribute to reaching the correct solution.

Confidence score: 0.9 ######## The 2-th Reasoning Chain with Comments ########

To be continue, in the Table 8

Pay attention to analysis and conclusion in the experience to avoid making similar mistakes by following the advice.

Below is a list of ordered reasoning steps, accompanied by their evaluated scores (A higher score means the reasoning step is more likely to complete the task.): ———————————–

Step 1, Current set: 3 5 6 8, Selected two numbers: 3 8, Operation: +, Computed new number: 11, Remaining numbers: 5 6, New set: 11 5 6.. Evaluate Score: 0.7 Step 2, Current set: 11 5 6, Selected two numbers: 5 6, Operation: *, Computed new number: 30, Remaining numbers: 11, New set: 30 11.. Evaluate Score: 0.9 ———————————–

Based on listed reasoning steps only within the above ”———” (i.e., Not the ones in the experience block), please make one step of reasoning to generate only one subsequential possible reasoning step.

The generated next step

Step 3, Current set: 30 11, Selected two numbers: 30 11, Operation: -, Computed new number: 19, Remaining numbers: , New set: 19., ######## The 2-th Reasoning Chain with Comments ########