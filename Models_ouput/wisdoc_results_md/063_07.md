CERTAIN DIAGONAL EQUATIONS AND CONFLICT-AVOIDING CODES OF PRIME LENGTHS 7

$$
N_{g}=q+\sum_{1\leq j,k\leq\ell-1}\pmb{\mathcal{X}}^{j}(-g^{-2})\pmb{\mathcal{X}}^{k}(-g^{-1})J(\pmb{\mathcal{X}}^{j},\pmb{\mathcal{X}}^{k})
$$

(5)

where

$$
J(\pmb{\mathcal{X}}^{j},\pmb{\mathcal{X}}^{k})=\sum_{a\in\mathbb{F}_{q}}\pmb{\mathcal{X}}^{j}(a)\pmb{\mathcal{X}}^{k}(1-a)
$$

is a Jacobi sum with respect to χ and χk. The following properties of Jacobi sums are useful.

Lemma 2.2 ([LN97, Theorem 5.19, 5.21, 5.22]). Let λ ,ψ be two extended characters of Fq.

(i) J(λ ,ψ) = J(ψ,λ ); (ii) J(ε,ε) = q; (iii) J(λ ,ε) = 0 if λ 6= ε; (iv) J(λ ,λ−1) =−λ (−1) if λ 6= ε; |J(λ ,ψ)|=√q if λ ,ψ and λψ are all nontrivial. (v)

i(a)|= Note that |χ 1 for all a∈F×q . By (iv) and (v) of Lemma 2.2, one has the following estimate of Ng from (5) √

$$
|N_{\mathfrak{V}}-\boldsymbol{q}|\le\boldsymbol{M}_{0}+\boldsymbol{M}_{1}\sqrt{\boldsymbol{q}}
$$

6= ε). jχk jχk = ε (resp. χ where M0 (resp. M1) is the number of pairs ( j,k) with χ Observe thatM0 = ℓ−1 and M1 = (ℓ−1)(ℓ−2). Thus, if

$$
\begin{array}{r}{q>(\ell-1)+(\ell-1)(\ell-2)\sqrt{q},}\end{array}
$$

(6)

then Ng > 0. Consequently, for q large enough (for example q> (ℓ−1)4), one has Ng > 0 for any g ∈ F×q .

For the numbers of rational solutions to equations over finite fields, the Hasse-Weil bound [Wei48] provides more precise information than the crude estimate given above.

Theorem 1 (Hasse-Weil bound). Let C be a non-singular, absolutely irreducible pro- jective curve over Fq and let NC = |C (Fq)| be the number of Fq-rational points of C . Then, √

$$
|\mathcal{N}_{\mathscr{C}}-(q+1)|\leq2\mathfrak{g}\sqrt{q}
$$

where g is the genus of C .

Applying the Hasse-Weil bound to C̃g, we see that √

$$
|\widetilde{N}_{g}-(q+1)|\leq(\ell-1)(\ell-2)\sqrt{q}
$$

since the genus of C̃g is gℓ = (ℓ− 1)(ℓ− 2)/2 by the degree-genus formula [Har77]. √ Consequently, Ñg > 0 for any generator g of F×q provided that q+1 > (ℓ−1)(ℓ−2) and therefore C̃g(Fq) is non-empty if q≥ (ℓ−1)2(ℓ−2)2.