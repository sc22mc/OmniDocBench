DOGLIONI et al.: PLANT MICROBIAL FUEL CELLS: ENERGY SOURCES AND BIOSENSORS FOR BATTERY-FREE SMART AGRICULTURE

Fig. 2. Full battery-free, PMFC-powered EIS application cycle. The voltage levels of all supplies (VWK, VSMP, VSTOR), sensor node, and component states (outlined in Section III-C). The current draw from the three supplies is reported in Table II. A refers to the time margin between OCV sampling and wakeup to ensure a correct OCV measurement, while B is where supply handoff happens.

TABLE I

CAPACITOR MODELS TESTED IN PMFC-POWERED DC/DC COLD START

\begin{tabular}{lllll} \hline Symbol & Capacitance [$\mu$F] & Nominal voltage [V] & Leakage [$\mu$A] & Producer and part number \\ [0.5ex] \hline $C_1$ & 47 & 63 & 3 & Elna, RE3-63V47MNF3 \\ $C_2$ & 470 & 16 & 3 & Rubycon, Y6K470MX811.5 \\ $C_3$ & 10000 & 6.3 & 3 & Sumitones, EEULFCU103S \\ $C_4$ & 470000 & 5.4 & 13 & Eatan, PHV-5R-4V474-R \\ $C_5$ & 100000 & 3.9 & 4 & Eatan, PHV-3L89305-R \\ \end{tabular}

entails bacterial multiplication and biofilm formation on the cell’s electrodes. Cell startupwas done byflooding the PMFC re- actor with water and leaving it undisturbed/unloaded until OCV stabilized above 0.6 V.Whenever OCV overcame this threshold, the PMFC was considered active and the colony sufficiently settled to source power, as the cell could comfortably cold start the dc–dc converter. During its active period, the reactor was provided with common plant fertilizer and a glass of water (137 ml) whenever soil dried up and OCV started dropping. If OCV stopped recovering above 0.6 V after watering, the cell was deemed inactive, as it failed to cold start the dc–dc converter.

B. Application Context

Battery-free electronics relying solely on energy harvesting sources for their functioning often run out of stored energy and incur in power failures. While some tasks can quickly be interrupted, and their progress can be recovered through intermittent computing strategies, other tasks, such as message exchanges and measurements, require uninterrupted execution not to yield erroneous results. Energy-aware scheduling only triggers uninterruptible taskswhen the stored energy is sufficient to ensure their continuous execution. This requires uninterrupt- ible task energy profiling and state of charge estimation. When capacitors are used as energy storage for the sensor node, the state of charge can easily be determined through their voltage VSTOR. By previously knowing task energy requirements, we evaluate the VSTOR threshold that triggers the task and ensure completion.

TABLE II

SENSOR NODE CURRENT DRAW IN ITS DIFFERENT STATES

\begin{tabular}{cccccc} \hline Node & SC\_drug & SC\_drug & Compounds avg current & Duration [s] & Notes \\ state & from\_wavelength {[}uA{]} & from\_storage {[}uA{]} & from\_storage: & & \\ \hline Sample & 0.8 & 0 or 0.825 & -- & x$^3$ & \\ \hline Waking & 2.02 & 0.02 & 325 nA & x$^3$ & BQ active cold-start/output disable) \\ \hline \multirow{2}{*}{LPM1} & \multirow{2}{*}{--} & \multirow{2}{*}{1.66} & 705 nA & x$^1$ & MCI in LPM 4.5, SVS enabled \\ & & & 1.75 nA & x$^1$ & MCI in LPM 4.5, SVS enabled \\ \hline \multirow{2}{*}{EIS} & \multirow{2}{*}{--} & \multirow{2}{*}{1.66} & 1.75 mA & 722.2 & BQ active + voltage monitors\\ & & & & & EI = MCU active \\ \hline \multirow{2}{*}{LPM2} & \multirow{2}{*}{--} & \multirow{2}{*}{1.66} & 705 nA & x$^1$ & MCI in LPM 4.5, SVS enabled \\ & & & 1.75 nA & x$^1$ & MCI in LPM 4.5, SVS enabled \\ \hline \multirow{2}{*}{TX} & \multirow{2}{*}{--} & \multirow{2}{*}{1.66} & 23.54 mA & 0.112 & BQ active + voltage monitors\\ & & & & & RoLaTX + MCI active \\ \hline \multirow{2}{*}{Rest} & \multirow{2}{*}{--} & \multirow{2}{*}{0.82} & 5 nA & until next & BQ in ship mode \\ & & & & wake-up & \\ \hline \end{tabular}

The proposed sensor node is to be deployed on a large scale outdoors and indoors for a cost-effective,maintenance-free plant monitoring solution. This battery-free application is meant to be self-powered through the electrodes of the PMFC, which it also uses for EIS measurements. It has the potential to empower farmers tomonitor plant-and-soil health down to the single plant, providing a dense map of the crop state and ensuring resources are used only when and where they are needed most.

The full application cycle of our sensor node, composed of the sequence of states listed in Table II, can be seen in Fig. 2. In further detail, this sensor node executes two subsequent uninter- ruptible tasks, an EIS sweep and then a LoRa transmission, in an energy-aware fashion. This is done by triggering EIS execution when the storage is charged toVEIS, and transmission (TX)when storage grows to VTX. These two thresholds (see Section IV-E for how we obtained them) ensure that the storage can complete the task before discharging down to VMIN, where the node enters rest state.

In the rest state, no power is harvested from the PMFC, and the leftover storage energy, which enters rest charged at VMIN, is safeguarded thanks to the node’s ultralow power consumption in rest mode (see Table II). Rest state was integrated as it was proven that periodically unloading PMFCs, in what we call intermittent harvesting, benefits both the length and the quality of PMFCs’ power production (see Section II). As mentioned in

463