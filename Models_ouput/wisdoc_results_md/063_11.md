CERTAIN DIAGONAL EQUATIONS AND CONFLICT-AVOIDING CODES OF PRIME LENGTHS 11

Proof. Let a,b ∈ Z be two fixed integers and let

S(d, t) = {(x,y) ∈ I× I | ax+by≡ td (mod n)}.

Then the union of S(d, t) for all such d and t is a subset of I× I. This union indeed

contains all elements of I× I. To see this, let (x,y) ∈ I× I and let d = (ax+by,n). Pick ax+by (mod ). Then (t, ) = 1 and ax+ by ≡ td (mod n). 1 ≤ t ≤ such that t ≡ ′) 6=∅, then choose one pair (x,y) in this Thus, (x,y) ∈ S(d, t). Finally, if S(d, t)∩S(d′, t ′d (mod n) implies that intersection. We obtain d = (ax+by,n) = d′. Furthermore, td ≡ t ′ ′ ′. ≤ (mod ). Since 1≤ t, t t ≡ t , we have t = t

4. PROOF OF THE MAIN RESULT

Recall that we aim at showing the following sum

$$
N(\boldsymbol{q},\ell)=\sum_{\substack{1\leq t\leq q-1,\\\left(t,q-1\right)=1}}N_{\boldsymbol{g}^{\prime}}
$$

tL= is not equal to zero where g is a fixed generator of F×q . It’s not hard to see that if g gsL then Ngt = Ngs . We have the following reduction for N(q, ℓ).

Proposition 4.1. Let g be generator of F×q and ℓ | q−1. Then

$$
N(q,\ell)={\frac{{\boldsymbol{\varphi}}(q-1)}{{\boldsymbol{\varphi}}(\ell)}}\sum_{1{\leq}t{\leq}\ell\atop{(t,\ell)={\mathrm{1}}}}N_{{\mathfrak{g}}^{\prime}}.
$$

Proof. By the definition of N(q, ℓ), it is a sum indexed by all elements of (Z/(q−1)Z)×. Recall that (Z/(q−1)Z)× =M ·N whereM and N are given in Lemma 3.1 for n= q−1 and d = ℓ. Note that if t1 ∈ N, then t1 ≡ 1 (mod ℓ) and gt1L= gL. It follows that Ngt1t2 = Ngt2 for any integer t2. Hence,

$$
N(q,\ell)=\sum_{\textstyle t\in(\mathbb{Z}/(q-1)\mathbb{Z})^{\times}}N_{g^{\prime}}=\sum_{t_{1}\in N}\sum_{t_{2}\in{\mathcal{M}}}N_{g^{\prime}l^{\prime2}}=|N|\sum_{t_{2}\in{\mathcal{M}}}N_{g^{\prime2}}.
$$

ϕ(q−1) The result follows since |N|= and M ≃ (Z/ℓZ)×. ϕ(ℓ)

Recall from (5) that

$$
N_{\vec{g}^{\prime}}=q+\sum_{\substack{1\leq j,k\leq\ell-1}}\boldsymbol{\mathcal{X}}^{j}(-g^{-2\prime})\boldsymbol{\mathcal{X}}^{k}(-g^{-t})J(\boldsymbol{\mathcal{X}}^{j},\boldsymbol{\mathcal{X}}^{k})
$$

where χ is a nontrivial character of Fq of order ℓ. We can rewrite Ngt as follows. Lemma 4.2. For 1≤ t ≤ ℓ and (t, ℓ) = 1, j,χk) Proof. If j+ k = ℓ, then J(χ =−χ(−1) by (iv) of Lemma 2.2. It follows that

$$
N_{g^{l}}=q+1+\sum_{\stackrel{1\leq j,k\leq\ell-1}{j+k\neq\ell}}{\pmb{\mathcal X}}(-1)^{j+k}{\pmb{\mathcal X}}(g^{-1})^{(2j+k)t}{\pmb J}({\pmb{\mathcal X}}^{j},{\pmb{\mathcal X}}^{k}).
$$