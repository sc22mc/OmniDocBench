Published as a conference paper at ICLR 2024

Table 15: Format of prompts used in GSM8K. The reasoning process of the “Question” is shown in Table 16

\begin{tabular}{l} \toprule \multicolumn{1}{c}{\textbf{Prompt Format for Next Thought Generation}} \\ Question: James decides to run 3 spires 3 times a week. He runs 60 meters each spiral. How many total meters does he run a week? \\ Answer: Let's think step 3y step. \\ \multicolumn{1}{c}{\textbf{Recall historical reasoning experience (Ignore when experience is empty):}} \\ \midrule \multicolumn{1}{c}{\texttt{***************************}}\\ \multicolumn{1}{c}{\texttt{Pay attention to analysis and conclusion in the experience to avoid making similar mistakes by following the advice.}}\\ \multicolumn{1}{c}{Below is a list of ordered reasoning steps, accompanied by their evaluated scores (A higher score means the reasoning step is more likely to complete the task):}\\ \cmidrule{1-1} \cmidrule{2-2} \multicolumn{1}{c}{\texttt{***************************}}\\ \multicolumn{1}{c}{\texttt{Based on listed reasoning steps only within the above ``--------'' (i.e., Not the ones in the experience block), please make one step of reasoning to generate only one}}\\ \multicolumn{1}{c}{\texttt{subsequent possible reasoning step.}}\\ \multicolumn{1}{c}{\textbf{Prompt Format for Experience Generation}} \\ Question: James decides to run 3 spires 3 times a week. He runs 60 meters each spiral. How many total meters does he run a week? \\ Answer: Let's think step 3y step. Below is a reasoning chain containing reasoning steps presented in order:\\ \cmidrule{1-1} \cmidrule{2-2} \multicolumn{1}{c}{\texttt{***************************}}\\ \multicolumn{1}{c}{\texttt{Please evaluate this reasoning chain by giving detailed comments containing the following content: 1. Can this reasoning chain complete the task and reach the}}\\ \multicolumn{1}{c}{\texttt{target correctly by executing its reasoning steps? why? Write a analysis report with conclusion under ``Analysis Report''. 2. For each reasoning step, please provide}}\\ \multicolumn{1}{c}{\texttt{a detailed analysis of whether the current step is a logical inference of the previous step and whether the reasoning step is beneficial to the correct solution. For}}\\ \multicolumn{1}{c}{\texttt{each reasoning step with errors, please provide an error report and the corresponding advice on revision. For each reasoning step, please provide recommendation}}\\ \multicolumn{1}{c}{\texttt{or rejection comments. Comments should be brief, avoid repeating the same analysis in different steps and follow the format: Reasoning step :idx, Analysis}}\\ \multicolumn{1}{c}{\texttt{Report:}. Advice: \underline{Recommendation or Reject description...}. What is your confidence score on these your evaluations and comments? Please select one value per step.}\\ \bottomrule \end{tabular}

Table 16: BoT’s success reasoning process.

Experience obtained in Iteration 1 ######## The 1-th Reasoning Chain with Comments ########

Below is a reasoning chain containing reasoning steps presented in order: ———————————–

Step 1: Firstly, we need to calculate the total distance James runs each time he sprints. Since he runs 60 meters each sprint, and he does this 3 times a week, we multiply 60 by 3.. Evaluate Score: 0.7

Step 2: After calculating the total distance James runs each time he sprints, we need to calculate the total distance he runs in a week. Since he runs 3 times a week, we multiply the total distance he runs each time by 3.. Evaluate Score: 1.0 ———————————–

Analysis Report: The reasoning chain can complete the task and reach the target correctly by executing its reasoning steps. The reasoning chain is correct and logical, and it successfully solves the problem by calculating the total distance James runs in a week.

Reasoning step 1. Analysis: This step is logically correct. It accurately interprets the problem by identifying the need to calculate the total distance James runs each time he sprints. However, the description is slightly misleading. James does not run 3 sprints 3 times a week, he runs 3 sprints each time, and this happens 3 times a week. The multiplication should be between the distance of each sprint and the number of sprints each time. Advice: The description should be revised to ”Since he runs 60 meters each sprint, and he does this 3 times each time he runs, we multiply 60 by 3.” Recommendation: The reasoning step is correct, but the description needs to be revised for clarity.

Reasoning step 2. Analysis: This step is a logical inference from the previous step. It correctly calculates the total distance James runs in a week by multiplying the total distance he runs each time by the number of times he runs in a week. Advice: No revision needed. Recommendation: The reasoning step is correct and should be accepted.

Confidence score: 0.9

Experience obtained in Iteration 2 ######## The 2-th Reasoning Chain with Comments ########

Below is a reasoning chain containing reasoning steps presented in order: ———————————–

Step 1: Firstly, we need to calculate the total distance James runs each time he runs. Since he runs 60 meters each sprint, and he does this 3 times each time he runs, we multiply 60 by 3.. Evaluate Score: 1.0 ———————————–

Analysis Report: The given reasoning chain can partially complete the task and reach the target. However, it is incomplete as it stops after calculating the total distance James runs each time he runs. It does not continue to calculate the total distance James runs in a week.

Reasoning step 1. The first step correctly calculates the total distance James runs each time he runs. It logically infers from the problem that since James runs 60 meters each sprint, and he does this 3 times each time he runs, the total distance he runs each time is 60 * 3. This step is beneficial to the correct solution as it is a necessary calculation towards finding the total distance James runs in a week.

Advice: The reasoning chain needs to be continued to include the calculation of the total distance James runs in a week. This can be done by multiplying the total distance James runs each time he runs (which was calculated in step 1) by the number of times he runs in a week.

Recommendation: Accept reasoning step 1 as it correctly calculates the total distance James runs each time he runs. However, the reasoning chain needs to be continued to include the calculation of the total distance James runs in a week.

Confidence score: 0.9

Experience obtained in Iteration 3

######## The 3-th Reasoning Chain with Comments ######## Below is a reasoning chain containing reasoning steps presented in order: ———————————–

Step 1: Identify the elements in the problem. James is running 3 sprints 3 times a week, with each sprint being 60 meters. We need to find the total distance he runs in a week.. Evaluate Score: 0.9

Step 2: Calculate the total distance James runs in a single day. Since he runs 3 sprints each day and each sprint is 60 meters, the total distance in a single day would be 3 sprints * 60 meters/sprint = 180 meters. Evaluate Score: 0.9. Evaluate Score: 0.9

Step 3: Now, calculate the total distance James runs in a week. Since he runs 3 times a week and each time he runs 180 meters, the total distance in a week would be 3 days/week * 180 meters/day = 540 meters.. Evaluate Score: 1.0 ———————————–

Analysis Report: The reasoning chain does complete the task and reach the target correctly. Each step logically follows from the previous one and contributes to the solution of the problem.

Reasoning step 1. The first step correctly identifies the elements of the problem and the task at hand. It correctly interprets the problem statement and sets up the basis for the next steps. Advice: None. Recommendation: Accept this step as it correctly identifies the problem and what needs to be done.

Reasoning step 2. This step logically follows from the first step. It correctly calculates the total distance James runs in a single day by multiplying the number of sprints he runs by the distance of each sprint. This step is beneficial to the solution as it breaks down the problem into smaller, manageable parts. Advice: None. Recommendation: Accept this step as it correctly calculates the daily running distance.

Reasoning step 3. This step is a logical inference from the previous step. It correctly calculates the total distance James runs in a week by multiplying the distance he runs each time by the number of times he runs in a week. This step is beneficial to the solution as it completes the calculation and provides the answer to the problem. Advice: None. Recommendation: Accept this step as it correctly calculates the weekly running distance.

Confidence score: 1.0

Ignore the subsequent iterations as the correct reasoning chain has been obtained.